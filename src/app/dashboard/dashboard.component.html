<div class="dashboard">
  <h1>Todos Dashboard</h1>
  <div class="todo-container">
    <div
      *ngFor="let todo of todos"
      class="todo-card"
      [class.completed]="todo.completed"
    >
      <h3>{{ todo.title }}</h3>
      <p>{{ todo.description }}</p>
      <p>Completed: {{ todo.completed ? "Yes" : "No" }}</p>
      <p>Due Date: {{ todo.dueDate | date }}</p>
      <p>Category: {{ todo.category.name }}</p>
      <div class="actions">
        <button (click)="toggleEdit(todo)">Edit</button>
        <button (click)="deleteTodo(todo)">Delete</button>
      </div>
      <div *ngIf="todo.isEditing" class="edit-section">
        <input [(ngModel)]="todo.title" placeholder="Title" />
        <textarea
          [(ngModel)]="todo.description"
          placeholder="Description"
        ></textarea>
        <label>
          <input type="checkbox" [(ngModel)]="todo.completed" /> Completed
        </label>
        <input [(ngModel)]="todo.dueDate" type="date" />
        <button (click)="saveChanges(todo)">Save</button>
        <button (click)="cancelEdit(todo)">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Tombol Exit -->
  <button (click)="logout()">Exit</button>
</div>
